---
title: "Summary Data"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Summary Data}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(dplyr)
library(juryR)
```

## Counts by Race

### Venire

```{r echo=FALSE}
venire |> 
  count(jur_race) |> 
  rename(Race = "jur_race",
         Jurors = "n")
```

### Bullpen

Bullpen contains potential jurors who were not disqualified nor given an exemption. Due to the small number who identified as "Native American", those were combined with "Other" when creating the `bullpen` dataset.

```{r echo=FALSE}
bullpen |> 
  count(jur_race) |> 
  rename(Race = "jur_race",
         Jurors = "n")
```

## Caused

### By Race

```{r echo=FALSE}
bullpen |> 
  filter(jur_caused == "Yes") |> 
  count(jur_race) |> 
  rename(Race = "jur_race",
         Jurors = "n")
```

### By Gender

```{r echo=FALSE}
bullpen |> 
  filter(jur_caused == "Yes") |> 
  count(jur_gend) |> 
  rename(Gender = "jur_gend",
         Jurors = "n")
```

### By Age

```{r echo=FALSE}
bullpen |> 
  filter(jur_caused == "Yes") |> 
  count(age_group) |> 
  rename(Age = "age_group",
         Jurors = "n")
```

### By I-30

```{r echo=FALSE}
bullpen |> 
  filter(jur_caused == "Yes") |> 
  count(i_30) |> 
  rename(`I-30` = "i_30",
         Jurors = "n")
```

## Jurors Dismissed Through Peremptory Challenges by State

### By Race

```{r echo=FALSE}
bullpen |> 
  filter(state == 1) |> 
  count(jur_race) |> 
  rename(Race = "jur_race",
         Jurors = "n")
```

### By Gender

```{r echo=FALSE}
bullpen |> 
  filter(state == 1) |> 
  count(jur_gend) |> 
  rename(Gender = "jur_gend",
         Jurors = "n")
```

### By Age

```{r echo=FALSE}
bullpen |> 
  filter(state == 1) |> 
  count(age_group) |> 
  rename(Age = "age_group",
         Jurors = "n")
```

### By I-30

```{r echo=FALSE}
bullpen |> 
  filter(state == 1) |> 
  count(i_30) |> 
  rename(`I-30` = "i_30",
         Jurors = "n")
```

## Jurors Dismissed Through Peremptory Challenges by Defense

### By Race

```{r echo=FALSE}
bullpen |> 
  filter(defense == 1) |> 
  count(jur_race) |> 
  rename(Race = "jur_race",
         Jurors = "n")
```

### By Gender

```{r echo=FALSE}
bullpen |> 
  filter(defense == 1) |> 
  count(jur_gend) |> 
  rename(Gender = "jur_gend",
         Jurors = "n")
```

### By Age

```{r echo=FALSE}
bullpen |> 
  filter(defense == 1) |> 
  count(age_group) |> 
  rename(Age = "age_group",
         Jurors = "n")
```

### By I-30

```{r echo=FALSE}
bullpen |> 
  filter(defense == 1) |> 
  count(i_30) |> 
  rename(`I-30` = "i_30",
         Jurors = "n")
```

## Averages per Trial

### By Race

```{r echo=FALSE}
bullpen |> 
  filter(juror_not_struck == "Juror") |> 
  count(cause_number_f_xx_xxxxx, jur_race) |> 
  group_by(jur_race) |> 
  summarise(round(mean(n), 2)) |> 
  rename(Race = "jur_race",
         `Avg. # Jurors` = `round(mean(n), 2)`)
```

### By Gender

```{r echo=FALSE}
bullpen |> 
  filter(juror_not_struck == "Juror") |> 
  count(cause_number_f_xx_xxxxx, jur_gend) |> 
  group_by(jur_gend) |> 
  summarise(round(mean(n), 2)) |> 
  rename(Gender = "jur_gend",
         `Avg. # Jurors` = `round(mean(n), 2)`)
```

### By Age

```{r echo=FALSE}
bullpen |> 
  filter(juror_not_struck == "Juror") |> 
  count(cause_number_f_xx_xxxxx, age_group) |> 
  group_by(age_group) |> 
  summarise(round(mean(n), 2)) |> 
  rename(`Age Group` = "age_group",
         `Avg. # Jurors` = `round(mean(n), 2)`)
```

### By I-30

```{r echo=FALSE}
bullpen |> 
  filter(juror_not_struck == "Juror") |> 
  count(cause_number_f_xx_xxxxx, i_30) |> 
  group_by(i_30) |> 
  summarise(round(mean(n), 2)) |> 
  rename(`I-30` = "i_30",
         `Avg. # Jurors` = `round(mean(n), 2)`)
```

The missing data point comes from a data entry error with the zip code for one juror.

The specific reason for the highest occurring causes for each column.
